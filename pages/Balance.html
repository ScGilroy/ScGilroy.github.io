---
layout: project-layout
project_title: Contact-Force Based Control for a Bipedal Robot, Cassie
sitelink: https://github.com/ScGilroy/Chess-Sudoku-Solvers
featImg: /assets/files/projects/Balance/Banner.png
---


<div class="projectContentWrapper">
  <div class="overview">
    <div class="main">
      <p class="medium bio">An introduction to bipedal robots and balancing controllers. There are many different methods for balance control and I wanted to test a few methods for robust balancing with external perturbations.</p>
      <p class="small bio"> <b>Skills Utilized: </b></p>
      <a class="tables">
        <ul>
          <li>MATLAB</li>
          <li>Contact-Force Based Control</li>
          <li>Proportional-Derivative Controls (PD)</li>
          <li>Bipedal Robots</li>
        </ul>
      </a>
    </div>
  </div>
  <hr>
  <h4>Berkeley's Cassie</h4>
  <p class="tab">The project was based around the bipedal robot which the Hybrid Robotics Lab currently operates from Agility Robotic's named Cassie. Cassie has 20 degrees of freedom which includes 7 joints in each leg. Within these 7 joints, only 5 are actuated by motors while two are connected via rigid springs. This makes the large robot underactuated and for simplicity, the springs can be seen as infinite stiffness, leading to these joints becoming fixed joints. Additionally, the robot's feet make contact in the front and back allowing the robot to maintain stability while standing.</p>

  <img src="{{ site.url }}/assets/files/projects/Balance/Cassie.png" style="width:35%; height:auto;">

  <h4>Method for Balancing</h4>
  <p class="tab">The technique used to balance Cassie was based primarily on a contact-forced based controller. Afterward, a position based approach was used to provide more robustness towards higher perturbations. By adding this additional control scheme, Cassie was found to be more resilient towards perturbations and was more robust than each of these methods individually when tested.</p>

  <h4>Contact-Force Control Method</h4>
  <p class="tab">The contact-force method utilizes the foot-ground reaction force to stabilize. This method entails calculating the error from the desired center of mass position and rotation. The errors are then passed through a Proportional-Derivative Controller (PD) with their associated gains. The Euler angles representing roll-pitch-yaw are then converted to quaternions to prevent singularities. The desired torque on the center of mass can be computed. A wrench is then created based on the torque and forces applied to the center of mass. A vector is then computed based on the Foot to Center of Mass position and the ground contact (Gc) can be computed. The inverse is then found of this matrix and then the forces at the foot-ground contact points can be computed. Using the jacobians of Cassie, the force on each foot-contact point can be converted into torque at the motors.</p>

  <h4>Additional Control</h4>
  <p class="tab">The secondary control method used in balancing is a joint-angle based control scheme. This entails directly controlling each motor based upon the motion of the center of mass. If the body was moving along the x-axis, added torque was applied to the ankles and knees. If the body was moving in along the y-axis, additional torque was applied to the hips. By applying this in addition to the Contact-Force control, lead to a larger tolerance to perturbations.</p>

  <h4>Results</h4>
  <p class="tab">Cassie successfully balances in a standing configuration with the combined method using Contact-Force Control with Position Control. Cassie passed various tests with different forces and torques applied to the center of mass. The controller allows for higher forces directed in the z-axis. Forced applied along the x and y axes takes less force due to a moment applied on the robot itself. Overall, this project introduced me to Bipedal Robots and how balancing remains a challenge due to the very small area of stability in comparison to quadrupeds or hexapods which the area of stability is much larger and can be adjusted with greater ease.</p>

  <img src="{{ site.url }}/assets/files/projects/Balance/Balance.gif" style="width:75%; height:auto;">
  <p class="Desc">Cassie Balancing with a roll pertubation. Cassie moves downwards then stabilizes over time.</p>

  <div class="spacer"></div>
</div>
